{% extends "base.html" %}
{% block content %}

<section class="text-style container-fluid">
    <div class="row">
        <div class="col-6">
            <div class="form-group text-center ">
                {% if session.user|lower == recipe.created_by|lower %}
                <a href="{{ url_for('edit_recipe', recipe_id=recipe._id)}}" class="btn btn-success btn-lg btn-block login-button">
                    Edit
                </a>
                {% endif %}
            </div>
        </div>
        <div class="col-6">
            <div class="form-group text-center ">
                {% if session.user|lower == recipe.created_by|lower %}
                <button type="submit" class="btn btn-success btn-lg btn-block login-button">
                    Delete
                </button>
                {% endif %}
            </div>
        </div>
        <div class="col-4">
            <div>
                <img  class="recipeimage" src="{{ recipe.image_url }}">
            </div>
            <div class="ingredients">
                <h3>Ingredients</h3>
                {% if recipe.ingredient_1 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_1}}</p>
                {% endif %}
                {% if recipe.ingredient_2 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_2}}</p>
                {% endif %}
                {% if recipe.ingredient_3 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_3}}</p>
                {% endif %}
                {% if recipe.ingredient_4 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_4}}</p>
                {% endif %}
                {% if recipe.ingredient_5 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_5}}</p>
                {% endif %}
                {% if recipe.ingredient_6 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_6}}</p>
                {% endif %}
                {% if recipe.ingredient_7 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_7}}</p>
                {% endif %}
                {% if recipe.ingredient_8 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_8}}</p>
                {% endif %}
                {% if recipe.ingredient_9 == "" %}
                {% else %}
                <p>{{ recipe.ingredient_9}}</p>
                {% endif %}
            </div>
        </div>
        <div class="col-6">
            <div class="borderrecipe">
                <div class="recipename">
                    <h1>{{ recipe.recipe_name}}</h1>
                </div>
                <div class="recipename">
                    <p>{{ recipe.created_by}}</p>
                </div>
                <div class="recipename">
                    <p>{{ recipe.category_name }}</p>
                </div>
                    <div class="row recipestuff">
                        <div class="col-3">
                            <p><i class="fas fa-clock"></i> {{ recipe.time}} </p>
                        </div>
                        <div class="col-3">
                            <p><i class="fas fa-users"></i> {{ recipe.servings}}</p>
                        </div>
                    </div>
                <div class="directions">
                    <h3>Directions</h3>    
                    <ol>
                        {% if recipe.direction_1 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_1}}</li>
                        {% endif %}
                        {% if recipe.direction_2 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_2}}</li>
                        {% endif %}
                        {% if recipe.direction_3 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_3}}</li>
                        {% endif %}
                        {% if recipe.direction_4 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_4}}</li>
                        {% endif %}
                        {% if recipe.direction_5 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_5}}</li>
                        {% endif %}
                        {% if recipe.direction_6 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_6}}</li>
                        {% endif %}
                        {% if recipe.direction_7 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_7}}</li>
                        {% endif %}
                        {% if recipe.direction_8 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_8}}</li>
                        {% endif %}
                        {% if recipe.direction_9 == "" %}
                        {% else %}
                        <li>{{ recipe.direction_9}}</li>
                        {% endif %}
                    </ol>
                </div>
                <div class="notes">
                    <h3>Notes</h3>
                    <p>{{ recipe.notes}}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="form-group text-center ">
                {% if session.user|lower == "admin"|lower %}
                <div class="text-center mb-5">
                    <a href="{{ url_for('edit_recipe', recipe_id=recipe._id)}}" class="btn btn-cream">
                        Edit
                    </a>
                     <!-- Modal button for Delete Recipe modal -->
                    <button class="btn btn-cream" data-bs-target="#modal-delete"
                         data-bs-toggle="modal" data-bs-dismiss="modal">Delete</button>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    <!-- Modal for Recipe Book -->
    <div class="modal fade" id="modal-delete" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modal-delete-label">Delete Recipe</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this recipe?</p>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-block mybtn btn-secondary"
                        href="{{ url_for('get_recipes' )}}" role="button">Cancel</a>
                    <a class="btn btn-block mybtn btn-danger"
                        href="{{ url_for('delete_recipe', recipe_id=recipe._id)}}" role="button">Delete</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Close Modal -->
</section>
{% endblock %}